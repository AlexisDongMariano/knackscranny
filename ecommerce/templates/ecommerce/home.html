{% extends "ecommerce/base.html" %}
{% load static %}

{% block extra_head %}
  <link href="{% static 'ecommerce/css/style.min.css' %}" rel="stylesheet">

  <style type="text/css">
    html,
    body,
    header,
    .carousel {
        height: 60vh;
    }

    @media (max-width: 740px) {
        html,
        body,
        header,
        .carousel {
            height: 100vh;
        }
    }

    @media (min-width: 800px) and (max-width: 850px) {
        html,
        body,
        header,
        .carousel {
            height: 100vh;
        }
    }
</style>
{% endblock extra_head %}
{% block content %}
  

  <!--Carousel Wrapper-->
  <div id="carousel-example-1z" class="carousel slide carousel-fade pt-4" data-ride="carousel">

    <!--Indicators-->
    <ol class="carousel-indicators">
      <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
      <li data-target="#carousel-example-1z" data-slide-to="1"></li>
      <li data-target="#carousel-example-1z" data-slide-to="2"></li>
    </ol>
    <!--/.Indicators-->

    <!--Slides-->
    <div class="carousel-inner" role="listbox">

      <!--First slide-->
      <div class="carousel-item active">
        <div class="view" style="background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%282%29.jpg'); background-repeat: no-repeat; background-size: cover;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Learn Bootstrap 4 with MDB</strong>
              </h1>

              <p>
                <strong>Best & free guide of responsive web design</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>The most comprehensive tutorial for the Bootstrap 4. Loved by over 500 000 users. Video and
                  written versions
                  available. Create your own, stunning website.</strong>
              </p>

              <a target="_blank" href="https://mdbootstrap.com/education/bootstrap/" class="btn btn-outline-white btn-lg">BROWSE COLLECTIONS
                <i class="fas fa-graduation-cap ml-2"></i>
              </a>
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/First slide-->

      <!--Second slide-->
      <div class="carousel-item">
        <div class="view" style="background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%283%29.jpg'); background-repeat: no-repeat; background-size: cover;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Learn Bootstrap 4 with MDB</strong>
              </h1>

              <p>
                <strong>Best & free guide of responsive web design</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>The most comprehensive tutorial for the Bootstrap 4. Loved by over 500 000 users. Video and
                  written versions
                  available. Create your own, stunning website.</strong>
              </p>

              <a target="_blank" href="https://mdbootstrap.com/education/bootstrap/" class="btn btn-outline-white btn-lg">Start
                free tutorial
                <i class="fas fa-graduation-cap ml-2"></i>
              </a>
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/Second slide-->

      <!--Third slide-->
      <div class="carousel-item">
        <div class="view" style="background-image: url('https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/8-col/img%285%29.jpg'); background-repeat: no-repeat; background-size: cover;">

          <!-- Mask & flexbox options-->
          <div class="mask rgba-black-strong d-flex justify-content-center align-items-center">

            <!-- Content -->
            <div class="text-center white-text mx-5 wow fadeIn">
              <h1 class="mb-4">
                <strong>Learn Bootstrap 4 with MDB</strong>
              </h1>

              <p>
                <strong>Best & free guide of responsive web design</strong>
              </p>

              <p class="mb-4 d-none d-md-block">
                <strong>The most comprehensive tutorial for the Bootstrap 4. Loved by over 500 000 users. Video and
                  written versions
                  available. Create your own, stunning website.</strong>
              </p>

              <a target="_blank" href="https://mdbootstrap.com/education/bootstrap/" class="btn btn-outline-white btn-lg">Start
                free tutorial
                <i class="fas fa-graduation-cap ml-2"></i>
              </a>
            </div>
            <!-- Content -->

          </div>
          <!-- Mask & flexbox options-->

        </div>
      </div>
      <!--/Third slide-->

    </div>
    <!--/.Slides-->

    <!--Controls-->
    <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <!--/.Controls-->

  </div>
  <!--/.Carousel Wrapper-->

  <!--Main layout-->
  <main>
    <div class="container">
      <!--Navbar-->
      <nav class="navbar navbar-expand-lg navbar-dark mdb-color lighten-3 mt-3 mb-5">
        <!-- Navbar brand -->
        <span class="navbar-brand">Categories:</span>
        <!-- Collapse button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
          aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Collapsible content -->
        <div class="collapse navbar-collapse" id="basicExampleNav">
          <!-- Links -->
          <ul class="navbar-nav mr-auto">
            <li class="nav-item 
            {% if page_type != 'collections' and page_type != 'made-to-order' and page_type != 'searched' %}
              active
            {% endif %}">
              <a class="nav-link" href="{% url 'ecommerce:home'%}">All
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item dropdown dropdown-menu-right
              {% if page_type == 'collections' %}
                active
              {% endif %}">
              <a class="nav-link dropdown-toggle"  data-toggle="dropdown" href="#">Collections</a>
              <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="{% url 'ecommerce:home' 'collections' %}">All Collections</a>
                {% for collection_category in collection_categories %}
                <a class="dropdown-item" href="#">{{ collection_category.name }}</a>
                {% endfor %}
              </div>
            </li>

            <li class="nav-item
            {% if page_type == 'made-to-order' %}
              active
            {% endif %}">
              <a class="nav-link" href="{% url 'ecommerce:home' 'made-to-order' %}">Made to Order</a>
            </li>
          </ul>
          <!-- Links -->



          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown">
                Filter
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">

                <a class="dropdown-item">
                  <input class="item-label" type="checkbox" name="item-label" value="NW">
                   New
                </a>
                <a class="dropdown-item">
                  <input class="item-label" type="checkbox" name="item-label" value="SL">
                  Sale
                </a>
                <a class="dropdown-item">
                  <input class="item-label" type="checkbox" name="item-label" value="BS">
                  Bestseller
                </a>
                <a class="dropdown-item">
                  <input class="item-label" type="checkbox" name="item-label" value="SD">
                  Sold
                </a>
                <!-- <div class="dropdown-divider"></div> -->
                
              </div>
            </li>
          </ul>

          <form class="form-inline" type="get">
            <div class="md-form my-0">
              <!-- xxx -->
              <input class="form-control mr-sm-2" type="text" placeholder="{{ search_placeholder }}" name="search" aria-label="Search">
            </div>
          </form>
        </div>
        <!-- Collapsible content -->

      </nav>
      <!--/.Navbar-->
      
      {% if page_type == 'collections' %}
        {% include "ecommerce/home-collections.html" %}
      {% elif page_type == 'made-to-order'%}
        {% include "ecommerce/home-made-to-order.html" %}
      {% else %}
        {% include "ecommerce/home-all.html" %}
      {% endif %}



      {% if page_obj.paginator.count > 8%}
        {% if page_obj.has_previous %}
            <a class="btn btn-outline-secondary mb-4 btn-sm" href="?page=1{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">First</a>
            <a class="btn btn-outline-secondary mb-4 btn-sm" href="?page={{ page_obj.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">Previous</a>
        {% endif %}

        {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
                <a class="btn btn-secondary mb-4 btn-sm" href="?page={{ num }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">{{ num }}</a>
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <a class="btn btn-outline-secondary mb-4 btn-sm" href="?page={{ num }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <a class="btn btn-outline-secondary mb-4 btn-sm" href="?page={{ page_obj.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">Next</a>
            <a class="btn btn-outline-secondary mb-4 btn-sm" href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">Last</a>
        {% endif %}
      {% endif %}

      <!--Pagination-->
      <nav class="d-flex justify-content-center wow fadeIn">
        <ul class="pagination pg-blue">

          <!--Arrow left-->
          <li class="page-item disabled">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>

          <li class="page-item active">
            <a class="page-link" href="#">1
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">2</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">3</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">4</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">5</a>
          </li>

          <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
        </ul>
      </nav>
      <!--Pagination-->

    </div>
  </main>
  <!--Main layout-->
{% endblock content %}

 
{% block extra_scripts %}
<script>
// JS Script for filtering items 
// const toggle_item_nw = $('.item-label-NW');
// const toggle_item_sl = $('.item-label-SL');
// const toggle_item_bs = $('.item-label-BS');
// const toggle_item_sd = $('.item-label-SD');

// const chkbox_show_nw = document.querySelector("input[name=NW]");
// const chkbox_show_sl = document.querySelector("input[name=SL]");
// const chkbox_show_bs = document.querySelector("input[name=BS]");
// const chkbox_show_sd = document.querySelector("input[name=SD]");
// const itemLabels = document.querySelectorAll(".item-label");
// let checked = document.querySelectorAll("input:checked");

// itemLabels.forEach((itemLabel, index) => {
//   console.log(itemLabel, itemLabel.checked);
//   itemLabel.addEventListener('change', () => {
//     checked = document.querySelectorAll("input:checked");
//     displayItems(checked);
//   });
// });

// function displayItems(checked) {
//   chkbox_show_nw.checked ? toggle_item_nw.show() : toggle_item_nw.hide();
//   chkbox_show_sl.checked ? toggle_item_sl.show() : toggle_item_sl.hide();
//   chkbox_show_bs.checked ? toggle_item_bs.show() : toggle_item_bs.hide();
//   chkbox_show_sd.checked ? toggle_item_sd.show() : toggle_item_sd.hide();

//   if(checked.length === 0){
//     toggle_item_nw.show();
//     toggle_item_sl.show();
//     toggle_item_bs.show();
//     toggle_item_sd.show();
//   }
// }
// </script>
{% endblock extra_scripts %}

